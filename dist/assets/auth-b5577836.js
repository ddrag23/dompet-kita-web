import{p as r,l as n,A as l,q as c,s as u}from"./index-c2086581.js";const i=r("auth",()=>{const t=n(!1),a=l(()=>localStorage.getItem("user")!=null?JSON.parse(localStorage.getItem("user")):"");async function s(o){try{const e=await c.post("/auth/login",o);console.log(e.data),localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("token",e.data.access_token),t.value=!0}catch(e){console.error(e),u({title:"Gagal",message:e.response.status==401?"Username atau password salah":"Login gagal",type:"error"})}}return{login:s,isLogin:t,userLogin:a}});export{i as u};
